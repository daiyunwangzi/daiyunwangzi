import argparse
import json
import requests

# æ‚¨çš„ Bot Token
token = 'Bot Token'

# è®¾ç½®å‘½ä»¤è¡Œå‚æ•°
parser = argparse.ArgumentParser(description='å‘é€ Telegram æ¶ˆæ¯')
parser.add_argument('--id', help='Chat ID')
parser.add_argument('--img', help='Image URL')
parser.add_argument('--wb', help='Caption')
parser.add_argument('--anniu', help='Buttons JSON')

# è§£æå‘½ä»¤è¡Œå‚æ•°
args = parser.parse_args()
emoji_dict = {
    "(ç‚¹èµ)": "ğŸ‘",
    "(å³æ‰‹)": "ğŸ‘‰",
    "(å·¦æ‰‹)": "ğŸ‘ˆ",
    "(çˆ±å¿ƒ)": "â¤ï¸",
    "(å˜´å·´)": "ğŸ’‹",
    "(æ‹³å¤´)": "ğŸ‘Š",
    "(é›¶é›¶)": "0ï¸âƒ£",
    "(ä¸€ä¸€)": "1ï¸âƒ£",
    "(äºŒäºŒ)": "2ï¸âƒ£",
    "(ä¸‰ä¸‰)": "3ï¸âƒ£",
    "(å››å››)": "4ï¸âƒ£",
    "(äº”äº”)": "5ï¸âƒ£",
    "(å…­å…­)": "6ï¸âƒ£",
    "(ä¸ƒä¸ƒ)": "7ï¸âƒ£",
    "(å…«å…«)": "8ï¸âƒ£",
    "(ä¹ä¹)": "9ï¸âƒ£",
    "(åå)": "ğŸ”Ÿ"
}


for word, emoji in emoji_dict.items():
    args.anniu = args.anniu.replace(word, emoji)
for word, emoji in emoji_dict.items():
    args.wb = args.wb.replace(word, emoji)

# å°†å­—ç¬¦ä¸²ä¸­çš„ '#' æ›¿æ¢ä¸ºå¼•å·ï¼Œå¹¶è§£æ JSON
inline_keyboard = json.loads(args.anniu.replace('#', '\"'))

# æ„å»º JSON æ•°æ®
data = {
    "chat_id": args.id,
    "photo": args.img,
    "caption": args.wb.replace('\\n', '\n'),
    "reply_markup": json.dumps({"inline_keyboard": inline_keyboard})
}
print(data)
# å‘é€ POST è¯·æ±‚
response = requests.post(f'https://api.telegram.org/bot{token}/sendPhoto', data=data)


# è¾“å‡ºå“åº”
print(response.text)


